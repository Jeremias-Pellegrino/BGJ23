[gd_scene load_steps=14 format=2]

[ext_resource path="res://Scenes/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://Assets/Arte/hospital capas/hospital-tile-2_0002_piso-copia-5.png" type="Texture" id=2]
[ext_resource path="res://Assets/Arte/hospital capas/hospital-tile-2_0001_Capa-12.png" type="Texture" id=3]
[ext_resource path="res://Scripts/Main.gd" type="Script" id=4]
[ext_resource path="res://Scripts/SineLight.gd" type="Script" id=5]
[ext_resource path="res://Assets/Arte/Luz/light.png" type="Texture" id=6]

[sub_resource type="OccluderPolygon2D" id=4]
polygon = PoolVector2Array( 309.333, 184, 373.333, 221.333, 440, 184, 440, 144, 306.667, 69.3333, -21.3333, 261.333, -85.3333, 221.333, -50.6667, 240, 309.333, 32, 440, 109.333, 637.333, -5.33333, 640, -42.6667, 669.333, -42.6667, 661.333, 405.333, -224, 405.333, -221.333, 258.667, -21.3333, 373.333 )

[sub_resource type="OccluderPolygon2D" id=5]
polygon = PoolVector2Array( -616, -10.6667, -672, -10.6667, -672, 309.333, -221.333, 306.667, -221.333, 224, 309.333, -82.6667, 440, -5.33333, 474.667, -26.6667, 242.667, -157.333, 146.667, -101.333, 112, -120, 176, -80, 176, -42.6667, 109.333, -5.33333, 42.6667, -42.6667, 13.3333, -26.6667, -18.6667, -42.6667, 45.3333, -2.66667, 45.3333, 32, -349.333, 258.667, -552, 146.667, -552, 106.667, -482.667, 72, -520, 88, -540.615, 74.7862, -616, 32 )

[sub_resource type="OccluderPolygon2D" id=6]
polygon = PoolVector2Array( 637.333, -42.6667, 506.667, -117.333, 541.333, -101.333, 570.667, -120, 570.667, -157.333, 506.667, -194.667, 440, -157.333, 373.333, -194.667, 408, -178.667, 440, -197.333, 440, -234.667, 373.333, -272, 309.333, -234.667, 242.667, -272, 176, -234.667, 112, -272, 42.6667, -232, 42.6667, -197.333, 74.6667, -178.667, 109.333, -194.667, 45.3333, -157.333, -21.3333, -194.667, -88, -157.333, -88, -120, -56, -101.333, -21.3333, -120, -88, -80, -154.667, -120, -418.667, 32, -482.667, -5.33333, -448, 10.6667, 176, -346.667, 178.667, -386.667, 106.667, -426.667, -616, -5.33333, -669.333, -8, -669.333, -426.667, 661.333, -442.667, 666.667, -26.6667 )

[sub_resource type="OccluderPolygon2D" id=7]
polygon = PoolVector2Array( 285.333, 128, 285.333, 133.333, 290.667, 133.333, 304, 133.333, 309.333, 128, 309.333, 120, 309.333, 117.333, 306.667, 122.667, 301.333, 125.333, 293.333, 128 )

[sub_resource type="OccluderPolygon2D" id=8]
polygon = PoolVector2Array( 352, -216, 357.333, -213.333, 373.333, -221.333, 373.333, -224, 357.333, -216, 352, -218.667 )

[sub_resource type="OccluderPolygon2D" id=9]
polygon = PoolVector2Array( -48, -128, -34.6667, -128, -24, -133.333, -24, -141.333, -37.3333, -133.333, -48, -133.333 )

[sub_resource type="NavigationPolygon" id=2]
vertices = PoolVector2Array( 928, 320, 1320, 552, 1128, 640, 928, 520, 384, -480, 176, -592, 328, -672, 528, -560, 1520, -448, 1680, -368, 1472, -248, 1328, -336, -1056, 744, -1592, 432, -1392, 328, 1120, -680, 1280, -592, 1080, -472, 920, -568, -96, 912, -72, 1088, -616, 776, -320, 784, 944, -120, 928, 72, 280, -248, 480, -128, 336, -48, 128, -160, -112, -24, 88, 96, -264, -104, 328, -1128, 472, -1040, -1496, 96, -1784, 96, -1272, 240, -8, -248, -208, -360, -72, -448, 136, -336, 1328, 96, 1312, 288, 1856, -16, 1544, -32, 728, -504, 728, -680, -456, -216 )
polygons = [ PoolIntArray( 0, 1, 2, 3 ), PoolIntArray( 4, 5, 6, 7 ), PoolIntArray( 8, 9, 10, 11 ), PoolIntArray( 12, 13, 14 ), PoolIntArray( 15, 16, 17, 18 ), PoolIntArray( 19, 0, 3, 20 ), PoolIntArray( 19, 20, 21, 22 ), PoolIntArray( 22, 21, 23, 24 ), PoolIntArray( 25, 26, 27, 28 ), PoolIntArray( 29, 30, 12, 31 ), PoolIntArray( 32, 33, 34, 35 ), PoolIntArray( 14, 35, 34, 36 ), PoolIntArray( 37, 38, 39, 40 ), PoolIntArray( 24, 23, 41, 42 ), PoolIntArray( 43, 42, 41, 44 ), PoolIntArray( 10, 43, 44, 45 ), PoolIntArray( 11, 10, 45, 17 ), PoolIntArray( 46, 18, 17, 45, 7 ), PoolIntArray( 4, 7, 45, 25, 40 ), PoolIntArray( 37, 40, 25, 28, 29 ), PoolIntArray( 31, 37, 29 ), PoolIntArray( 36, 47, 31, 12, 14 ) ]
outlines = [ PoolVector2Array( -1592, 432, -1392, 328, -1784, 96, 328, -1128, 472, -1040, -1496, 96, -1272, 240, -456, -216, -264, -104, -8, -248, -208, -360, -72, -448, 136, -336, 384, -480, 176, -592, 328, -672, 528, -560, 728, -680, 920, -568, 1120, -680, 1280, -592, 1080, -472, 1328, -336, 1520, -448, 1680, -368, 1472, -248, 1856, -16, 1312, 288, 928, 72, -320, 784, -96, 912, 928, 320, 1320, 552, 1128, 640, 928, 520, -72, 1088, -616, 776, 944, -120, 1328, 96, 1544, -32, 728, -504, 280, -248, 480, -128, 336, -48, 128, -160, -112, -24, 88, 96, -1056, 744 ) ]

[node name="Main" type="Node2D"]
script = ExtResource( 4 )

[node name="Nivel" type="Node2D" parent="."]

[node name="Floor" type="Polygon2D" parent="Nivel"]
scale = Vector2( 3, 3 )
texture = ExtResource( 2 )
polygon = PoolVector2Array( 171.8, -348.5, 171, -345.5, 168, -345.5, -483.5, 29.6, -484.1, 33, -418.4, 70.7, -155, -80.5, -153, -80.5, -88.4, -43.3, -21.5, -80.6, -21.5, -81.5, -22, -83.5, -23, -83.5, -83.5, -118.3, -83.5, -121.7, -27, -154.5, -15.5, -154.5, -15.5, -152.6, 43.6, -119.3, 109.5, -155.7, 109.5, -159.5, 48.5, -194.3, 48.5, -197.7, 109, -232.5, 111, -232.5, 176, -194.5, 244.5, -234, 244.5, -230.6, 307.6, -195.3, 376.5, -233.9, 376.5, -230.6, 435.8, -196.5, 435, -193.5, 432, -193.5, 374.5, -160.4, 374.5, -156.5, 440, -118.5, 505, -156.5, 507, -156.5, 552.5, -130.7, 552.5, -129.6, 567.8, -120.4, 567, -117.5, 564, -117.5, 506.5, -84.4, 505.9, -81, 633.8, -6.5, 633, -3.5, 630, -3.5, 441, 106.5, 439, 106.5, 308.4, 31.3, -87.5, 257.6, -88.6, 259.8, -88.1, 261.5, -87, 261.5, -22.4, 298.7, 307, 109.5, 309, 109.5, 435.5, 182.3, 435.5, 185.6, 419.1, 195.5, 417, 195.5, 373.5, 220.8, 371.5, 219.7, 371.5, 218.6, 308.5, 183.3, -21, 372.5, -23, 372.5, -215.5, 261.7, -215.5, 258.3, 307, -42.5, 309, -42.5, 440, 33.5, 505.5, -3.60001, 505.5, -7.5, 242, -159.5, 109.5, -83.4, 109.5, -82.5, 110, -80.5, 111, -80.5, 171.8, -44.4, 171, -41.5, 168, -41.5, 111.1, -7.5, 109, -7.5, 44, -45.5, -2.5, -19.4, -2.5, -18.3, -21.5, -8.29999, -22.1, -5, 39.8, 31.6, 39, 34.5, 36, 34.5, -351, 258.5, -353, 258.5, -545.5, 147.7, -545.5, 144.3, -484.5, 110.4, -483.9, 107, -611.8, 32.5, -611, 29.5, -608, 29.5, 107.5, -382.6, 107.5, -383.7, 109.5, -384.8 )
uv = PoolVector2Array( 840.3, 95, 839.5, 98, 836.5, 98, 185, 473.1, 184.4, 476.5, 250.1, 514.2, 513.5, 363, 515.5, 363, 580.1, 400.2, 647, 362.9, 647, 362, 646.5, 360, 645.5, 360, 585, 325.2, 585, 321.8, 641.5, 289, 653, 289, 653, 290.9, 712.1, 324.2, 778, 287.8, 778, 284, 717, 249.2, 717, 245.8, 777.5, 211, 779.5, 211, 844.5, 249, 913, 209.5, 913, 212.9, 976.1, 248.2, 1045, 209.6, 1045, 212.9, 1104.3, 247, 1103.5, 250, 1100.5, 250, 1043, 283.1, 1043, 287, 1108.5, 325, 1173.5, 287, 1175.5, 287, 1221, 312.8, 1221, 313.9, 1236.3, 323.1, 1235.5, 326, 1232.5, 326, 1175, 359.1, 1174.4, 362.5, 1302.3, 437, 1301.5, 440, 1298.5, 440, 1109.5, 550, 1107.5, 550, 976.9, 474.8, 581, 701.1, 579.9, 703.3, 580.4, 705, 581.5, 705, 646.1, 742.2, 975.5, 553, 977.5, 553, 1104, 625.8, 1104, 629.1, 1087.6, 639, 1085.5, 639, 1042, 664.3, 1040, 663.2, 1040, 662.1, 977, 626.8, 647.5, 816, 645.5, 816, 453, 705.2, 453, 701.8, 975.5, 401, 977.5, 401, 1108.5, 477, 1174, 439.9, 1174, 436, 910.5, 284, 778, 360.1, 778, 361, 778.5, 363, 779.5, 363, 840.3, 399.1, 839.5, 402, 836.5, 402, 779.6, 436, 777.5, 436, 712.5, 398, 666, 424.1, 666, 425.2, 647, 435.2, 646.4, 438.5, 708.3, 475.1, 707.5, 478, 704.5, 478, 317.5, 702, 315.5, 702, 123, 591.2, 123, 587.8, 184, 553.9, 184.6, 550.5, 56.7, 476, 57.5, 473, 60.5, 473, 776, 60.9, 776, 59.8, 778, 58.7 )
polygons = [ PoolIntArray( 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105 ) ]
__meta__ = {
"_edit_lock_": true
}

[node name="Walls" type="Sprite" parent="Nivel"]
scale = Vector2( 3, 3 )
texture = ExtResource( 3 )

[node name="Occluders" type="Node2D" parent="Nivel"]
scale = Vector2( 3, 3 )

[node name="LightOccluder2D_1" type="LightOccluder2D" parent="Nivel/Occluders"]
occluder = SubResource( 4 )

[node name="LightOccluder2D_2" type="LightOccluder2D" parent="Nivel/Occluders"]
occluder = SubResource( 5 )

[node name="LightOccluder2D_3" type="LightOccluder2D" parent="Nivel/Occluders"]
occluder = SubResource( 6 )

[node name="LightOccluder2D" type="LightOccluder2D" parent="Nivel/Occluders"]
visible = false
occluder = SubResource( 7 )

[node name="LightOccluder2D" type="LightOccluder2D" parent="Nivel/Occluders/LightOccluder2D"]
visible = false
occluder = SubResource( 8 )

[node name="LightOccluder2D" type="LightOccluder2D" parent="Nivel/Occluders/LightOccluder2D/LightOccluder2D"]
visible = false
occluder = SubResource( 9 )

[node name="Sprites - para que son\?" type="Node2D" parent="Nivel"]
scale = Vector2( 3, 3 )

[node name="Sprite" type="Sprite" parent="Nivel/Sprites - para que son\?"]

[node name="Sprite2" type="Sprite" parent="Nivel/Sprites - para que son\?"]

[node name="Sprite3" type="Sprite" parent="Nivel/Sprites - para que son\?"]

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color( 0, 0, 0, 1 )

[node name="RoundLight" type="Light2D" parent="."]
position = Vector2( -2, 0.333333 )
rotation = -3.14159
texture = ExtResource( 6 )
texture_scale = 0.1
color = Color( 0.458824, 0.176471, 0.176471, 1 )
energy = 0.89
range_height = -225.5
script = ExtResource( 5 )

[node name="Timer" type="Timer" parent="RoundLight"]
autostart = true

[node name="RoundLight2" type="Light2D" parent="."]
position = Vector2( -601, -142 )
rotation = -3.14159
texture = ExtResource( 6 )
texture_scale = 0.8
color = Color( 0.458824, 0.176471, 0.176471, 1 )
energy = 0.89
range_height = -225.5
script = ExtResource( 5 )

[node name="Timer" type="Timer" parent="RoundLight2"]
autostart = true

[node name="RoundLight3" type="Light2D" parent="."]
position = Vector2( -113, -414 )
rotation = -3.14159
texture = ExtResource( 6 )
texture_scale = 0.78
color = Color( 0.458824, 0.176471, 0.176471, 1 )
energy = 0.89
range_height = -225.5
script = ExtResource( 5 )

[node name="Timer" type="Timer" parent="RoundLight3"]
autostart = true

[node name="RoundLight4" type="Light2D" parent="."]
position = Vector2( -921, 27 )
rotation = -3.14159
texture = ExtResource( 6 )
texture_scale = 0.8
color = Color( 0.458824, 0.176471, 0.176471, 1 )
energy = 0.89
range_height = -225.5
script = ExtResource( 5 )

[node name="Timer" type="Timer" parent="RoundLight4"]
autostart = true

[node name="Player" parent="." instance=ExtResource( 1 )]
position = Vector2( 368, -1088 )

[node name="Navmesh" type="NavigationPolygonInstance" parent="."]
position = Vector2( -5, -13 )
navpoly = SubResource( 2 )

[connection signal="timeout" from="RoundLight/Timer" to="RoundLight" method="_on_Timer_timeout"]
[connection signal="timeout" from="RoundLight2/Timer" to="RoundLight2" method="_on_Timer_timeout"]
[connection signal="timeout" from="RoundLight3/Timer" to="RoundLight3" method="_on_Timer_timeout"]
[connection signal="timeout" from="RoundLight4/Timer" to="RoundLight4" method="_on_Timer_timeout"]
