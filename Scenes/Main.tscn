[gd_scene load_steps=16 format=2]

[ext_resource path="res://Scenes/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://Assets/Imagen/Luz/light.png" type="Texture" id=2]
[ext_resource path="res://Assets/Imagen/Luz/spot.png" type="Texture" id=3]
[ext_resource path="res://Scripts/Main.gd" type="Script" id=4]
[ext_resource path="res://Scripts/SineLight.gd" type="Script" id=5]
[ext_resource path="res://Assets/Imagen/hospital capas/hospital-tile-2_0001_Capa-12.png" type="Texture" id=6]
[ext_resource path="res://Scenes/AudioManager.tscn" type="PackedScene" id=7]
[ext_resource path="res://Assets/Imagen/hospital capas/hospital-tile-2_0002_piso-copia-5.png" type="Texture" id=8]

[sub_resource type="NavigationPolygon" id=2]
vertices = PoolVector2Array( 928, 320, 1320, 552, 1128, 640, 928, 520, 384, -480, 176, -592, 328, -672, 528, -560, 1520, -448, 1680, -368, 1472, -248, 1328, -336, -1056, 744, -1592, 432, -1392, 328, 1120, -680, 1280, -592, 1080, -472, 920, -568, -96, 912, -72, 1088, -616, 776, -320, 784, 944, -120, 928, 72, 280, -248, 480, -128, 336, -48, 128, -160, -112, -24, 88, 96, -264, -104, 328, -1128, 472, -1040, -1496, 96, -1784, 96, -1272, 240, -8, -248, -208, -360, -72, -448, 136, -336, 1328, 96, 1312, 288, 1856, -16, 1544, -32, 728, -504, 728, -680, -456, -216 )
polygons = [ PoolIntArray( 0, 1, 2, 3 ), PoolIntArray( 4, 5, 6, 7 ), PoolIntArray( 8, 9, 10, 11 ), PoolIntArray( 12, 13, 14 ), PoolIntArray( 15, 16, 17, 18 ), PoolIntArray( 19, 0, 3, 20 ), PoolIntArray( 19, 20, 21, 22 ), PoolIntArray( 22, 21, 23, 24 ), PoolIntArray( 25, 26, 27, 28 ), PoolIntArray( 29, 30, 12, 31 ), PoolIntArray( 32, 33, 34, 35 ), PoolIntArray( 14, 35, 34, 36 ), PoolIntArray( 37, 38, 39, 40 ), PoolIntArray( 24, 23, 41, 42 ), PoolIntArray( 43, 42, 41, 44 ), PoolIntArray( 10, 43, 44, 45 ), PoolIntArray( 11, 10, 45, 17 ), PoolIntArray( 46, 18, 17, 45, 7 ), PoolIntArray( 4, 7, 45, 25, 40 ), PoolIntArray( 37, 40, 25, 28, 29 ), PoolIntArray( 31, 37, 29 ), PoolIntArray( 36, 47, 31, 12, 14 ) ]
outlines = [ PoolVector2Array( -1592, 432, -1392, 328, -1784, 96, 328, -1128, 472, -1040, -1496, 96, -1272, 240, -456, -216, -264, -104, -8, -248, -208, -360, -72, -448, 136, -336, 384, -480, 176, -592, 328, -672, 528, -560, 728, -680, 920, -568, 1120, -680, 1280, -592, 1080, -472, 1328, -336, 1520, -448, 1680, -368, 1472, -248, 1856, -16, 1312, 288, 928, 72, -320, 784, -96, 912, 928, 320, 1320, 552, 1128, 640, 928, 520, -72, 1088, -616, 776, 944, -120, 1328, 96, 1544, -32, 728, -504, 280, -248, 480, -128, 336, -48, 128, -160, -112, -24, 88, 96, -1056, 744 ) ]

[sub_resource type="OccluderPolygon2D" id=4]
polygon = PoolVector2Array( 309.333, 184, 373.333, 221.333, 440, 184, 440, 144, 306.667, 69.3333, -21.3333, 261.333, -22, 296.667, -21.3333, 261.333, -87.3333, 222.333, -87.3333, 260.667, -87.3333, 222.333, -53.3333, 242.333, 309.333, 32, 440, 109.333, 637.333, -5.33333, 640, -42.6667, 669.333, -42.6667, 661.333, 405.333, -224, 405.333, -221.333, 258.667, -21.3333, 373.333 )

[sub_resource type="OccluderPolygon2D" id=5]
polygon = PoolVector2Array( -616, -10.6667, -672, -10.6667, -672, 309.333, -221.333, 306.667, -221.333, 224, 309.333, -82.6667, 440, -6, 439.333, 31, 440, -6, 507, -44, 507.667, -6.33333, 507, -44, 472.667, -25, 242.667, -157.333, 144.333, -100, 110.667, -121, 110.667, -81.3333, 110.667, -121, 176, -80, 176, -42.6667, 109.333, -5.33333, 42.6667, -42.6667, 9.66667, -24.6667, -19.3333, -43, -20, -4, -19.3333, -43, 10.1272, -24.6251, 45.3333, -2.66667, 45.3333, 32, -349.333, 258.667, -552, 146.667, -552, 106.667, -484.333, 71, -484, 108, -484.333, 71, -518, 89, -540.615, 74.7862, -616, 32 )

[sub_resource type="OccluderPolygon2D" id=6]
polygon = PoolVector2Array( 637.333, -42.6667, 507, -118.667, 506, -82, 507, -118.667, 539, -100, 570.667, -120, 570.667, -157.333, 506.667, -194.667, 440, -157.333, 439.333, -120.667, 440, -157.333, 375.652, -193.368, 373.333, -194.667, 373.667, -157.667, 373.333, -194.667, 406.333, -176.333, 440, -197.333, 440, -234.667, 373.333, -272, 308, -234.333, 307.667, -196.667, 308, -234.333, 242.667, -272, 176, -234.667, 176, -196.333, 176, -234.667, 112, -272, 42.6667, -232, 42.6667, -197.333, 77, -177, 109.333, -194.667, 110.333, -158, 109.333, -194.667, 43.6667, -158.667, 43.6667, -120.333, 44, -158.333, -21.3333, -194.667, -88, -157.333, -88, -120, -54.3333, -100.333, -21.3333, -120, -21.3333, -81.6667, -21.3333, -120, -88, -80, -89, -44.3333, -88, -80, -154.667, -120, -418.333, 31.6667, -418.333, 69, -418.333, 32.6667, -484.333, -5.33333, -485, 33.3333, -484.333, -5.66667, -450.333, 13.6667, 176, -346.667, 178.667, -386.667, 106.667, -426.667, -616, -5.33333, -669.333, -8, -669.333, -426.667, 661.333, -442.667, 666.667, -26.6667 )

[sub_resource type="OccluderPolygon2D" id=7]
polygon = PoolVector2Array( 285.333, 128, 285.333, 133.333, 290.667, 133.333, 304, 133.333, 309.333, 128, 309.333, 120, 309.333, 117.333, 306.667, 122.667, 301.333, 125.333, 293.333, 128 )

[sub_resource type="OccluderPolygon2D" id=8]
polygon = PoolVector2Array( 352, -216, 357.333, -213.333, 373.333, -221.333, 373.333, -224, 357.333, -216, 352, -218.667 )

[sub_resource type="OccluderPolygon2D" id=9]
polygon = PoolVector2Array( -48, -128, -34.6667, -128, -24, -133.333, -24, -141.333, -37.3333, -133.333, -48, -133.333 )

[node name="Main" type="Node2D"]
script = ExtResource( 4 )

[node name="AudioManager" parent="." instance=ExtResource( 7 )]

[node name="Nivel" type="Node2D" parent="."]

[node name="Navmesh" type="NavigationPolygonInstance" parent="Nivel"]
position = Vector2( -5, -13 )
navpoly = SubResource( 2 )

[node name="FloorPolygon" type="Polygon2D" parent="Nivel"]
scale = Vector2( 3, 3 )
texture = ExtResource( 8 )
polygon = PoolVector2Array( 177.5, -350.7, 177.5, -344.5, 174, -344.5, -478.5, 31.9, -418.4, 66.7, -155, -84.5, -153, -84.5, -88.4, -47.3, -25.7, -82, -90.5, -118.3, -90.5, -121.6, -29, -157.5, -27, -157.5, -21.5, -160.8, -19.5, -159.7, -19.5, -158.6, 43.6, -123.3, 106.4, -158, 41.2, -195.5, 42, -198.5, 44, -198.5, 109, -236.5, 111, -236.5, 176, -198.5, 244.5, -238, 244.5, -234.6, 307.6, -199.3, 376.5, -237.9, 376.5, -234.6, 442.8, -196.5, 442, -193.5, 440, -193.5, 379.4, -158.1, 440, -122.5, 505, -160.5, 507, -160.5, 573.5, -122.7, 573.5, -119.4, 511.4, -82.1, 640.8, -6.5, 640, -3.5, 638, -3.5, 441, 110.5, 439, 110.5, 308.4, 35.3, -82.5, 259.9, -22.4, 294.7, 307, 105.5, 309, 105.5, 442.5, 182.3, 442.5, 185.6, 388, 217.5, 386, 217.5, 373.5, 224.8, 371.5, 223.7, 371.5, 222.6, 308.5, 187.3, -21, 376.5, -23, 376.5, -222.5, 261.7, -222.5, 258.3, 307, -46.5, 309, -46.5, 440, 29.5, 502.4, -6, 242, -155.5, 113.6, -82, 177.5, -46.7, 177.5, -40.5, 174, -40.5, 111, -3.5, 109, -3.5, 44, -41.5, -0.5, -16.4, -0.5, -15.3, -16.5, -6.10001, 45.5, 29.3, 45.5, 35.5, 42, 35.5, -351, 262.5, -353, 262.5, -551.5, 148.7, -551.5, 145.4, -489.4, 108.1, -618.8, 32.5, -618, 29.5, -616, 29.5, 107.5, -386.6, 107.5, -389.9 )
uv = PoolVector2Array( 846, 92.8, 846, 99, 842.5, 99, 190, 475.4, 250.1, 510.2, 513.5, 359, 515.5, 359, 580.1, 396.2, 642.8, 361.5, 578, 325.2, 578, 321.9, 639.5, 286, 641.5, 286, 647, 282.7, 649, 283.8, 649, 284.9, 712.1, 320.2, 774.9, 285.5, 709.7, 248, 710.5, 245, 712.5, 245, 777.5, 207, 779.5, 207, 844.5, 245, 913, 205.5, 913, 208.9, 976.1, 244.2, 1045, 205.6, 1045, 208.9, 1111.3, 247, 1110.5, 250, 1108.5, 250, 1047.9, 285.4, 1108.5, 321, 1173.5, 283, 1175.5, 283, 1242, 320.8, 1242, 324.1, 1179.9, 361.4, 1309.3, 437, 1308.5, 440, 1306.5, 440, 1109.5, 554, 1107.5, 554, 976.9, 478.8, 586, 703.4, 646.1, 738.2, 975.5, 549, 977.5, 549, 1111, 625.8, 1111, 629.1, 1056.5, 661, 1054.5, 661, 1042, 668.3, 1040, 667.2, 1040, 666.1, 977, 630.8, 647.5, 820, 645.5, 820, 446, 705.2, 446, 701.8, 975.5, 397, 977.5, 397, 1108.5, 473, 1170.9, 437.5, 910.5, 288, 782.1, 361.5, 846, 396.8, 846, 403, 842.5, 403, 779.5, 440, 777.5, 440, 712.5, 402, 668, 427.1, 668, 428.2, 652, 437.4, 714, 472.8, 714, 479, 710.5, 479, 317.5, 706, 315.5, 706, 117, 592.2, 117, 588.9, 179.1, 551.6, 49.7, 476, 50.5, 473, 52.5, 473, 776, 56.9, 776, 53.6 )
polygons = [ PoolIntArray( 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88 ) ]

[node name="Walls" type="Sprite" parent="Nivel"]
scale = Vector2( 3, 3 )
texture = ExtResource( 6 )

[node name="Occluders" type="Node2D" parent="Nivel"]
scale = Vector2( 3, 3 )

[node name="LightOccluder2D_1" type="LightOccluder2D" parent="Nivel/Occluders"]
occluder = SubResource( 4 )

[node name="LightOccluder2D_2" type="LightOccluder2D" parent="Nivel/Occluders"]
occluder = SubResource( 5 )

[node name="LightOccluder2D_3" type="LightOccluder2D" parent="Nivel/Occluders"]
occluder = SubResource( 6 )

[node name="LightOccluder2D" type="LightOccluder2D" parent="Nivel/Occluders"]
occluder = SubResource( 7 )

[node name="LightOccluder2D" type="LightOccluder2D" parent="Nivel/Occluders/LightOccluder2D"]
occluder = SubResource( 8 )

[node name="LightOccluder2D" type="LightOccluder2D" parent="Nivel/Occluders/LightOccluder2D/LightOccluder2D"]
occluder = SubResource( 9 )

[node name="Sprites - para que son\?" type="Node2D" parent="Nivel"]
scale = Vector2( 3, 3 )

[node name="Sprite" type="Sprite" parent="Nivel/Sprites - para que son\?"]

[node name="Sprite2" type="Sprite" parent="Nivel/Sprites - para que son\?"]

[node name="Sprite3" type="Sprite" parent="Nivel/Sprites - para que son\?"]

[node name="Walls2" type="Sprite" parent="Nivel"]
position = Vector2( -511, 1549 )
scale = Vector2( 3, 3 )

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color( 0, 0, 0, 1 )

[node name="RoundLight" type="Light2D" parent="."]
position = Vector2( -2, 0.333333 )
rotation = -3.14159
texture = ExtResource( 2 )
texture_scale = 0.1
color = Color( 0.458824, 0.176471, 0.176471, 1 )
energy = 0.89
range_height = -225.5
script = ExtResource( 5 )
__meta__ = {
"_edit_lock_": true
}

[node name="Timer" type="Timer" parent="RoundLight"]
autostart = true

[node name="RoundLight2" type="Light2D" parent="."]
position = Vector2( -601, -142 )
rotation = -3.14159
texture = ExtResource( 2 )
texture_scale = 0.8
color = Color( 0.458824, 0.176471, 0.176471, 1 )
energy = 0.89
range_height = -225.5
script = ExtResource( 5 )
__meta__ = {
"_edit_lock_": true
}

[node name="Timer" type="Timer" parent="RoundLight2"]
autostart = true

[node name="RoundLight3" type="Light2D" parent="."]
position = Vector2( -113, -414 )
rotation = -3.14159
texture = ExtResource( 2 )
texture_scale = 0.78
color = Color( 0.458824, 0.176471, 0.176471, 1 )
energy = 0.89
range_height = -225.5
script = ExtResource( 5 )
__meta__ = {
"_edit_lock_": true
}

[node name="Timer" type="Timer" parent="RoundLight3"]
autostart = true

[node name="RoundLight4" type="Light2D" parent="."]
position = Vector2( -921, 27 )
rotation = -3.14159
texture = ExtResource( 3 )
texture_scale = 0.8
color = Color( 0.458824, 0.176471, 0.176471, 1 )
energy = 0.89
range_height = -225.5
script = ExtResource( 5 )
__meta__ = {
"_edit_lock_": true
}

[node name="Timer" type="Timer" parent="RoundLight4"]
autostart = true

[node name="Player" parent="." instance=ExtResource( 1 )]
position = Vector2( 368, -1088 )

[connection signal="timeout" from="RoundLight/Timer" to="RoundLight" method="_on_Timer_timeout"]
[connection signal="timeout" from="RoundLight2/Timer" to="RoundLight2" method="_on_Timer_timeout"]
[connection signal="timeout" from="RoundLight3/Timer" to="RoundLight3" method="_on_Timer_timeout"]
[connection signal="timeout" from="RoundLight4/Timer" to="RoundLight4" method="_on_Timer_timeout"]
